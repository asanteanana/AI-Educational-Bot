<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Educational Q&A Bot</title>
  <meta name="description"
    content="Advanced AI educational companion with text-to-speech capabilities for enhanced learning experiences." />
  <link rel="icon"
    href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%230071e3'%3E%3Ccircle cx='12' cy='12' r='10' /%3E%3C/svg%3E"
    type="image/svg+xml">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>

<body>
  <!-- Theme and Accessibility Controls -->
  <div class="control-panel">
    <!-- Theme toggle -->
    <div class="theme-toggle">
      <button id="light-mode-button" class="theme-button active" aria-label="Switch to light mode">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
          stroke-linejoin="round">
          <circle cx="12" cy="12" r="5"></circle>
          <line x1="12" y1="1" x2="12" y2="3"></line>
          <line x1="12" y1="21" x2="12" y2="23"></line>
          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
          <line x1="1" y1="12" x2="3" y2="12"></line>
          <line x1="21" y1="12" x2="23" y2="12"></line>
          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
        </svg>
      </button>
      <button id="dark-mode-button" class="theme-button" aria-label="Switch to dark mode">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
          stroke-linejoin="round">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
      </button>
    </div>
    <!-- Accessibility Controls -->
    <div class="accessibility-controls">
      <button id="high-contrast-button" class="control-button" aria-label="Toggle high contrast mode">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"></circle>
          <path d="M12 2v20M2 12h20"></path>
        </svg>
      </button>
      <button id="text-increase-button" class="control-button" aria-label="Increase text size">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="17 8 12 3 7 8"></polyline>
          <line x1="12" y1="3" x2="12" y2="15"></line>
        </svg>
      </button>
      <button id="text-decrease-button" class="control-button" aria-label="Decrease text size">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 9v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9"></path>
          <polyline points="7 15 12 20 17 15"></polyline>
          <line x1="12" y1="8" x2="12" y2="20"></line>
        </svg>
      </button>
    </div>
  </div>

  <div class="app-container">
    <div class="app-header">
      <div class="app-logo">
        <svg viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="10" />
        </svg>
        <span class="app-logo-text">Educational Q&A</span>
      </div>
      <h1 class="app-title">Enhance your learning experience</h1>
      <p class="app-subtitle">Ask questions to receive educational content in text or audio format</p>
    </div>

    <!-- Query Input Section -->
    <div class="input-container">
      <form id="main-form">
        <div class="input-wrapper">
          <textarea class="input-field" id="main-question-input" placeholder="Ask an educational question..." 
            autocomplete="off" maxlength="500"></textarea>
          <div class="input-actions">
            <div class="char-limit">
              <span id="char-count">0</span>/<span id="char-max">500</span>
            </div>
            <button type="button" id="voice-input-button" class="voice-button" aria-label="Use voice input">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round">
                <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                <line x1="12" y1="19" x2="12" y2="23"></line>
                <line x1="8" y1="23" x2="16" y2="23"></line>
              </svg>
            </button>
            <button type="submit" id="main-send-button" class="send-button">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round">
                <line x1="22" y1="2" x2="11" y2="13"></line>
                <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
              </svg>
            </button>
          </div>
        </div>
      </form>

      <!-- TTS Model Selection -->
      <div class="tts-model-selector">
        <label for="tts-model">TTS Voice Model:</label>
        <div class="select-wrapper">
          <select id="tts-model">
            <option value="standard" data-performance="fast">Standard Voice</option>
            <option value="neural" data-performance="balanced">Neural TTS</option>
            <option value="premium" data-performance="high-quality">Premium Voice</option>
            <option value="conversational" data-performance="balanced">Conversational</option>
          </select>
          <div class="performance-indicator" id="model-performance">
            <span class="indicator-dot"></span>
            <span class="indicator-text">Balanced</span>
          </div>
        </div>
        <button id="preview-voice" class="small-button">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
            stroke-linejoin="round">
            <polygon points="5 3 19 12 5 21 5 3"></polygon>
          </svg>
          Preview
        </button>
      </div>
    </div>

    <!-- UI Controls Section -->
    <div class="view-controls">
      <div class="view-tabs">
        <button id="text-view-button" class="view-tab active">Text View</button>
        <button id="audio-view-button" class="view-tab">Audio View</button>
      </div>
      
      <div class="user-options">
        <button id="history-button" class="option-button" aria-label="View recent queries">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <polyline points="12 6 12 12 16 14"></polyline>
          </svg>
        </button>
        <button id="bookmark-button" class="option-button" aria-label="View bookmarks">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>
          </svg>
        </button>
        <button id="settings-button" class="option-button" aria-label="Open settings">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
          </svg>
        </button>
      </div>
    </div>

    <!-- Response Display Area -->
    <div id="conversation" class="conversation">
      <!-- Welcome message -->
      <div class="welcome-container">
        <div class="welcome-icon">ðŸŽ“</div>
        <h2 class="welcome-title">Welcome to AI Educational Q&A</h2>
        <p class="welcome-text">Ask any educational question to receive detailed explanations in text or audio format. Customize your learning experience with different voice models and playback options.</p>
        
        <div class="sample-queries">
          <h3>Try asking:</h3>
          <div class="query-chips">
            <button class="query-chip">Explain quantum computing</button>
            <button class="query-chip">How does photosynthesis work?</button>
            <button class="query-chip">What caused the French Revolution?</button>
            <button class="query-chip">Explain the structure of DNA</button>
          </div>
        </div>
      </div>

      <!-- Conversation header -->
      <div class="conversation-header">
        <div class="header-title">Your Learning Session</div>
        <div class="session-info">
          <span id="query-count">0 queries</span>
          <button id="clear-session" class="text-button">Clear</button>
        </div>
      </div>

      <!-- Conversation content will be populated here dynamically -->
    </div>

    <!-- Audio Control Panel -->
    <div id="audio-controls" class="audio-controls">
      <div class="audio-waveform" id="waveform"></div>
      <div class="playback-controls">
        <button id="play-pause" class="control-button">
          <svg id="play-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="5 3 19 12 5 21 5 3"></polygon>
          </svg>
          <svg id="pause-icon" class="hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="6" y="4" width="4" height="16"></rect>
            <rect x="14" y="4" width="4" height="16"></rect>
          </svg>
        </button>
        <div class="time-display">
          <span id="current-time">0:00</span> / <span id="total-time">0:00</span>
        </div>
        <div class="playback-speed">
          <button id="speed-toggle" class="small-button">1x</button>
          <div id="speed-options" class="speed-dropdown hidden">
            <button data-speed="0.5">0.5x</button>
            <button data-speed="0.75">0.75x</button>
            <button data-speed="1" class="active">1x</button>
            <button data-speed="1.25">1.25x</button>
            <button data-speed="1.5">1.5x</button>
            <button data-speed="2">2x</button>
          </div>
        </div>
        <div class="volume-control">
          <button id="volume-button" class="control-button">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
              <path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>
              <path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path>
            </svg>
          </button>
          <input type="range" id="volume-slider" min="0" max="100" value="100">
        </div>
        <button id="download-audio" class="control-button">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="7 10 12 15 17 10"></polyline>
            <line x1="12" y1="15" x2="12" y2="3"></line>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Message templates -->
  <template id="user-message-template">
    <div class="message user-message">
      <div class="message-header">
        <div class="user-indicator">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
          <span>You</span>
        </div>
        <div class="message-actions">
          <button class="action-button edit-message">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
              <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
            </svg>
          </button>
        </div>
      </div>
      <div class="message-content">
        <div class="message-text"></div>
      </div>
    </div>
  </template>

  <template id="assistant-message-template">
    <div class="message assistant-message">
      <div class="message-header">
        <div class="assistant-indicator">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10" />
            <path d="M12 16v-4M12 8h.01" />
          </svg>
          <span>AI Educator</span>
        </div>
        <div class="message-actions">
          <button class="action-button bookmark-response">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>
            </svg>
          </button>
          <button class="action-button copy-response">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
          </button>
        </div>
      </div>
      <div class="message-content">
        <div class="message-text"></div>
      </div>
      <div class="response-actions">
        <button class="action-button primary play-audio-button">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
            stroke-linejoin="round">
            <polygon points="5 3 19 12 5 21 5 3"></polygon>
          </svg>
          Listen to Response
        </button>
        <button class="action-button regenerate-button">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
            stroke-linejoin="round">
            <path d="M23 4v6h-6"></path>
            <path d="M1 20v-6h6"></path>
            <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
          </svg>
          Simplify
        </button>
        <button class="action-button additional-resources">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
            <polyline points="15 3 21 3 21 9"></polyline>
            <line x1="10" y1="14" x2="21" y2="3"></line>
          </svg>
          Related Resources
        </button>
      </div>
    </div>
  </template>

  <template id="typing-indicator-template">
    <div class="message assistant-message">
      <div class="message-header">
        <div class="assistant-indicator">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10" />
            <path d="M12 16v-4M12 8h.01" />
          </svg>
          <span>AI Educator</span>
        </div>
      </div>
      <div class="message-content">
        <div class="message-text">Researching your question...</div>
        <div class="typing">
          <span class="typing-dot"></span>
          <span class="typing-dot"></span>
          <span class="typing-dot"></span>
        </div>
      </div>
    </div>
  </template>

  <!-- Modals -->
  <div id="settings-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Settings</h2>
        <button class="close-modal">&times;</button>
      </div>
      <div class="modal-body">
        <div class="settings-section">
          <h3>Appearance</h3>
          <div class="setting-item">
            <label for="theme-select">Theme:</label>
            <select id="theme-select">
              <option value="light">Light</option>
              <option value="dark">Dark</option>
              <option value="auto">System Default</option>
            </select>
          </div>
          <div class="setting-item">
            <label for="font-select">Font:</label>
            <select id="font-select">
              <option value="system">System Default</option>
              <option value="serif">Serif</option>
              <option value="sans-serif">Sans-serif</option>
              <option value="dyslexic">Dyslexic Friendly</option>
            </select>
          </div>
          <div class="setting-item">
            <label for="font-size">Font Size:</label>
            <div class="range-control">
              <input type="range" id="font-size" min="80" max="120" value="100">
              <span id="font-size-value">100%</span>
            </div>
          </div>
        </div>
        <div class="settings-section">
          <h3>Audio</h3>
          <div class="setting-item">
            <label for="default-tts">Default TTS Model:</label>
            <select id="default-tts">
              <option value="standard">Standard Voice</option>
              <option value="neural">Neural TTS</option>
              <option value="premium">Premium Voice</option>
              <option value="conversational">Conversational</option>
            </select>
          </div>
          <div class="setting-item">
            <label for="default-speed">Default Playback Speed:</label>
            <select id="default-speed">
              <option value="0.5">0.5x</option>
              <option value="0.75">0.75x</option>
              <option value="1" selected>1x</option>
              <option value="1.25">1.25x</option>
              <option value="1.5">1.5x</option>
              <option value="2">2x</option>
            </select>
          </div>
        </div>
        <div class="settings-section">
          <h3>Accessibility</h3>
          <div class="setting-item checkbox">
            <input type="checkbox" id="high-contrast-mode">
            <label for="high-contrast-mode">High Contrast Mode</label>
          </div>
          <div class="setting-item checkbox">
            <input type="checkbox" id="screen-reader-opt">
            <label for="screen-reader-opt">Enhanced Screen Reader Support</label>
          </div>
          <div class="setting-item checkbox">
            <input type="checkbox" id="reduce-motion">
            <label for="reduce-motion">Reduce Motion</label>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button id="reset-settings" class="secondary-button">Reset to Default</button>
        <button id="save-settings" class="primary-button">Save Settings</button>
      </div>
    </div>
  </div>

  <div id="history-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Recent Queries</h2>
        <button class="close-modal">&times;</button>
      </div>
      <div class="modal-body">
        <div id="recent-queries" class="history-list">
          <!-- Will be populated dynamically -->
          <div class="empty-state">No recent queries</div>
        </div>
      </div>
    </div>
  </div>

  <div id="bookmarks-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Bookmarked Responses</h2>
        <button class="close-modal">&times;</button>
      </div>
      <div class="modal-body">
        <div id="bookmarked-responses" class="bookmarks-list">
          <!-- Will be populated dynamically -->
          <div class="empty-state">No bookmarked responses</div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.skypack.dev/framer-motion@4.1.17/dist/es/index.mjs" type="module"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/6.6.3/wavesurfer.min.js"></script>
  <script src="js/app.js" type="module"></script>
</body>

</html>